(this.webpackJsonpwwww=this.webpackJsonpwwww||[]).push([[0],{69:function(e,t,a){e.exports=a(80)},74:function(e,t,a){},75:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),i=a.n(s),o=(a(74),a(46)),l=a(44),c=a(13),m=a(14),h=a(16),u=a(15),d=(a(75),a(123)),p=a(128),g=a(81),y=a(130),v=a(35),f=a.n(v),E=a(45),w=a.n(E),b=a(131),S=a(129),C=a(58),k=a.n(C),N=a(57),O=a.n(N),j=a(126),x=a(132),I=a(127),T=a(55),W=a.n(T),D=a(124),G=a(120),P=a(125),V=a(118),H=a(56),J=a.n(H),R=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"drawCanvas",value:function(){var e=this.props.permutations,t=e[0].length,a=this.props.currentSentence,n=this.refs.canvas.getContext("2d");n.strokeStyle="#bdbdbd",n.fillStyle="#bdbdbd",n.lineWidth=2,n.lineCap="round",n.lineJoin="round";for(var r=0;r<t;r++)if(a!=r){n.beginPath();var s=this.transform(r/(t-1),0);n.moveTo(s.x,s.y);var i=e[0][r]/(t-1),o=this.transform(i,1/3);n.lineTo(o.x,o.y);var l=e[1][e[0][r]]/(t-1),c=this.transform(l,2/3);n.lineTo(c.x,c.y);var m=e[2][e[1][e[0][r]]]/(t-1),h=this.transform(m,1);n.lineTo(h.x,h.y),n.stroke(),n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.fill(),n.beginPath(),n.arc(o.x,o.y,3,0,2*Math.PI),n.fill(),n.beginPath(),n.arc(c.x,c.y,3,0,2*Math.PI),n.fill(),n.beginPath(),n.arc(h.x,h.y,3,0,2*Math.PI),n.fill()}n.strokeStyle="#3f51b5",n.fillStyle="#3f51b5",n.beginPath();var u=this.transform(a/(t-1),0);n.moveTo(u.x,u.y);var d=e[0][a]/(t-1),p=this.transform(d,1/3);n.lineTo(p.x,p.y);var g=e[1][e[0][a]]/(t-1),y=this.transform(g,2/3);n.lineTo(y.x,y.y);var v=e[2][e[1][e[0][a]]]/(t-1),f=this.transform(v,1);n.lineTo(f.x,f.y),n.stroke(),n.beginPath(),n.arc(u.x,u.y,3,0,2*Math.PI),n.fill(),n.beginPath(),n.arc(p.x,p.y,3,0,2*Math.PI),n.fill(),n.beginPath(),n.arc(y.x,y.y,3,0,2*Math.PI),n.fill(),n.beginPath(),n.arc(f.x,f.y,3,0,2*Math.PI),n.fill()}},{key:"componentDidUpdate",value:function(){this.drawCanvas()}},{key:"componentDidMount",value:function(){this.drawCanvas()}},{key:"transform",value:function(e,t){return{x:e*(this.props.width-30)+15,y:t*(this.props.height-30)+15}}},{key:"render",value:function(){return r.a.createElement(V.a,{in:!0},r.a.createElement("div",null,r.a.createElement("canvas",{ref:"canvas",width:this.props.width,height:this.props.height})))}}]),a}(r.a.Component),A=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isVisible:!0},n}return Object(m.a)(a,[{key:"hide",value:function(){this.setState({isVisible:!1})}},{key:"componentDidMount",value:function(){setTimeout(this.hide.bind(this),2e3);var e=this.props.permutations,t=e[0].length,a=this.refs.canvas.getContext("2d");a.fillStyle="#3f51b5";for(var n=0;n<t;n++)for(var r=0;r<4;r++){a.beginPath();var s=this.transform(n/(t-1),r/3);a.arc(s.x,s.y,7,0,2*Math.PI),a.fill()}a.beginPath(),a.strokeStyle="#3f51b5",a.lineWidth=4;for(var i=0;i<t;i++){var o=this.transform(i/(t-1),0);a.moveTo(o.x,o.y);var l=e[0][i]/(t-1),c=this.transform(l,1/3);a.lineTo(c.x,c.y);var m=e[1][e[0][i]]/(t-1),h=this.transform(m,2/3);a.lineTo(h.x,h.y);var u=e[2][e[1][e[0][i]]]/(t-1),d=this.transform(u,1);a.lineTo(d.x,d.y)}a.stroke()}},{key:"transform",value:function(e,t){return{x:e*(this.props.width-60)+30,y:t*(this.props.height-60)+30}}},{key:"render",value:function(){return r.a.createElement(V.a,{in:this.state.isVisible},r.a.createElement("div",null,r.a.createElement("canvas",{ref:"canvas",width:this.props.width,height:this.props.height})))}}]),a}(r.a.Component),L=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={instructionsOpen:!1,buttonsVisible:!0},n}return Object(m.a)(a,[{key:"toggleInstructions",value:function(){this.setState({instructionsOpen:!this.state.instructionsOpen,buttonsVisible:!this.state.buttonsVisible})}},{key:"closeInstructions",value:function(){this.setState({instructionsOpen:!1,buttonsVisible:!0})}},{key:"componentWillUnmount",value:function(){this.setState({buttonsVisible:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{direction:"down",in:this.state.buttonsVisible,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"start-options"},r.a.createElement("div",{className:"game-title prompt-text"},r.a.createElement(g.a,{variant:"h4",align:"center"},"WHO WHAT WHERE WHY")),r.a.createElement("div",{className:"s-o-b"},r.a.createElement(d.a,{onClick:this.props.handleNewGame,variant:"contained",color:"primary",size:"large"},"New Game")),r.a.createElement("div",{className:"s-o-b"},r.a.createElement(d.a,{onClick:this.props.handleJoinGame,variant:"contained",color:"primary",size:"large"},"Join Game")),r.a.createElement("div",{className:"game-info-button"},r.a.createElement(d.a,{startIcon:r.a.createElement(W.a,null),onClick:function(){return e.toggleInstructions()}},"Instructions")))),r.a.createElement(G.a,{in:this.state.instructionsOpen,direction:"up",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"instructions"},r.a.createElement(D.a,{className:"instructions-paper",onClick:function(){return e.closeInstructions()},variant:"outlined"},r.a.createElement("div",{className:"inside-paper-container"},r.a.createElement(g.a,{variant:"h6"},"Introduction"),r.a.createElement(g.a,{variant:"body1"},'"Who What Where Why" is a party game where each player writes a sentence, and the parts of each sentence are shuffled to make a new set of funny sentences. The sentences are broken up into four parts: a "Who" (eg. "Ted Dansen"), a "What" (eg. "ate all the pistachios"), a "Where" (eg. in iceland), and a "Why" (eg. "because they wanted to"). The sentence parts from all the players get shuffled to make the new sentences.'),r.a.createElement("div",{className:"instruction-list"},r.a.createElement(g.a,{variant:"h6"},"Instructions"),r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement(g.a,{variant:"body1"},"Decide who in your party will be the host")),r.a.createElement("li",null,r.a.createElement(g.a,{variant:"body1"},"The host will click 'NEW GAME', enter their name, and get a game code to share with the party (by zoom call or text or telepathy).")),r.a.createElement("li",null,r.a.createElement(g.a,{variant:"body1"},"The rest of the the party will click 'JOIN GAME', enter their name, and enter the game code shared by the host.")),r.a.createElement("li",null,r.a.createElement(g.a,{variant:"body1"},"When the host sees that everyone has joined, they will click 'Start Game'.")),r.a.createElement("li",null,r.a.createElement(g.a,{variant:"body1"},"All players will fill out the four sentence parts: Who, What, Where, and Why.")),r.a.createElement("li",null,r.a.createElement(g.a,{variant:"body1"},"When everyone has completed their sentences the parts will be shuffled and everyone will see the new, (hopefully humorous), sentences. The host can reshuffle the sentences to continue the hilarity!")))))))))}}]),a}(r.a.Component),B=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={sentences:[],intervalID:null,codeWasValid:!1,showAuthors:!1,currentSentence:0,permutations:[],showingGraphic:!0},n}return Object(m.a)(a,[{key:"makeSentencePapers",value:function(){var e=this.state.sentences[this.state.currentSentence];return this.state.showAuthors?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"single-response"},r.a.createElement(V.a,{in:this.state.showAuthors},r.a.createElement(g.a,{variant:"h5",align:"center"},e.who.response)),r.a.createElement(V.a,{in:this.state.showAuthors,style:{transitionDelay:"100ms"}},r.a.createElement(b.a,{variant:"outlined",size:"small",label:e.who.name,color:"primary"}))),r.a.createElement("div",{className:"single-response"},r.a.createElement(V.a,{in:this.state.showAuthors},r.a.createElement(g.a,{variant:"h5",align:"center"},e.what.response)),r.a.createElement(V.a,{in:this.state.showAuthors,style:{transitionDelay:"200ms"}},r.a.createElement(b.a,{variant:"outlined",size:"small",label:e.what.name,color:"primary"}))),r.a.createElement("div",{className:"single-response"},r.a.createElement(V.a,{in:this.state.showAuthors},r.a.createElement(g.a,{variant:"h5",align:"center"},e.where.response)),r.a.createElement(V.a,{in:this.state.showAuthors,style:{transitionDelay:"300ms"}},r.a.createElement(b.a,{variant:"outlined",size:"small",label:e.where.name,color:"primary"}))),r.a.createElement("div",{className:"single-response"},r.a.createElement(V.a,{in:this.state.showAuthors},r.a.createElement(g.a,{variant:"h5",align:"center"},e.why.response)),r.a.createElement(V.a,{in:this.state.showAuthors,style:{transitionDelay:"400ms"}},r.a.createElement(b.a,{variant:"outlined",size:"small",label:e.why.name,color:"primary"})))):r.a.createElement(V.a,{in:!0},r.a.createElement("div",{className:"single-response"},r.a.createElement(g.a,{variant:"h5",align:"center"},e.who.response.trim()+" "+e.what.response.trim()+" "+e.where.response.trim()+" "+e.why.response.trim())))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.intervalID)}},{key:"hideGraphic",value:function(){this.setState({showingGraphic:!1})}},{key:"reshuffle",value:function(){var e=this;this.setState({isLoaded:!1});var t=JSON.stringify({type:"create-sentences",code:this.props.gameCode});fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(t){t.codeWasValid?(e.setState({codeWasValid:!0}),"sentences-created"==t.gameState.gameStage&&(e.setState({showingGraphic:!0,sentences:t.gameState.sentences,permutations:t.gameState.permutations,isLoaded:!0}),setTimeout(e.hideGraphic.bind(e),3e3))):e.setState({isLoaded:!0,codeWasValid:!1})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"getData",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"get-game-state",code:this.props.gameCode})};console.log("request sent from ViewSentences/getData"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",t).then((function(e){return e.json()})).then((function(t){if(t.codeWasValid)if(e.setState({codeWasValid:!0}),"sentences-created"==t.gameState.gameStage)e.setState({sentences:t.gameState.sentences,permutations:t.gameState.permutations,isLoaded:!0}),clearTimeout(e.state.intervalID),setTimeout(e.hideGraphic.bind(e),3e3);else{var a=setTimeout(e.getData.bind(e),4e3);e.setState({intervalID:a})}else e.setState({codeWasValid:!1})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"handleSwitch",value:function(){this.setState({showAuthors:!this.state.showAuthors})}},{key:"navigate",value:function(e){var t=(this.state.currentSentence+e)%this.state.sentences.length;this.setState({currentSentence:t})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement("div",null,"Error: ",this.state.error.message):this.state.isLoaded?this.state.codeWasValid?this.state.showingGraphic?(console.log(this.state.permutations),r.a.createElement(A,{width:250,height:250,permutations:this.state.permutations})):r.a.createElement("div",{className:"prompt-text"},r.a.createElement("div",{className:"show-authors"},r.a.createElement(j.a,{control:r.a.createElement(x.a,{checked:this.state.showAuthors,onChange:function(){return e.handleSwitch()},color:"primary"}),label:"Show Authors"}),r.a.createElement(I.a,{onClick:function(){return e.reshuffle()}},r.a.createElement(J.a,null))),r.a.createElement("div",{className:"sentence"},r.a.createElement("div",{className:"sentence-inside"},this.makeSentencePapers())),r.a.createElement("div",{className:"bottom-nav"},r.a.createElement(I.a,{color:"primary",onClick:function(){return e.navigate(e.state.sentences.length-1)}},r.a.createElement(w.a,null)),r.a.createElement(g.a,{variant:"body1",align:"center"},this.state.currentSentence+1+"/"+this.state.sentences.length),r.a.createElement(I.a,{color:"primary",onClick:function(){return e.navigate(1)}},r.a.createElement(f.a,null))),r.a.createElement("div",{className:"mini-graphic"},r.a.createElement(R,{width:70,height:70,permutations:this.state.permutations,currentSentence:this.state.currentSentence}))):void 0:r.a.createElement(P.a,null)}}]),a}(r.a.Component),M=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={players:[],isLoaded:!1,codeWasValid:!1,intervalID:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.intervalID)}},{key:"getSentences",value:function(){clearTimeout(this.state.intervalID),this.props.getSentences()}},{key:"getData",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"get-game-state",code:this.props.gameCode})};console.log("request sent from FinishedResponses/getData"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",t).then((function(e){return e.json()})).then((function(t){if(t.codeWasValid)if("all-players-waiting"==t.gameState.gameStage||"sentences-created"==t.gameState.gameStage)e.getSentences();else{var a=setTimeout(e.getData.bind(e),4e3);e.setState({players:t.gameState.players,intervalID:a}),e.state.isLoaded||e.setState({isLoaded:!0,codeWasValid:!0})}else e.setState({codeWasValid:!1,isLoaded:!0})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"createPlayers",value:function(){var e,t=Array(),a=Object(l.a)(this.state.players.entries());try{for(a.s();!(e=a.n()).done;){var n=Object(o.a)(e.value,2),s=n[0],i=n[1],c=void 0;c=i.doneWithQuestions?r.a.createElement(O.a,null):r.a.createElement(k.a,null);var m=100*(s+1)+"ms";t.push(r.a.createElement(p.a,{item:!0},r.a.createElement(V.a,{in:!0,style:{transitionDelay:m}},r.a.createElement(b.a,{icon:c,label:i.name,color:"primary"}))))}}catch(h){a.e(h)}finally{a.f()}return t}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement("div",null,"Error: ",this.state.error.message):this.state.isLoaded?this.state.codeWasValid?r.a.createElement(G.a,{in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"prompt-text"},r.a.createElement(p.a,{container:!0,direction:"column",spacing:5,justify:"center",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"h4",align:"center"},"Waiting for all players to finish")),r.a.createElement(p.a,{item:!0},r.a.createElement(p.a,{container:!0,direction:"row",spacing:2,justify:"center",alignItems:"center"},this.createPlayers()))))):r.a.createElement("div",{className:"prompt-text"},r.a.createElement(p.a,{container:!0,direction:"column",spacing:4,justify:"center",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"h5",align:"center"},"looks like your game no longer exists")),r.a.createElement(p.a,{item:!0},r.a.createElement(d.a,{onClick:function(){return e.props.enterNewCode()},variant:"contained",color:"primary"},"Enter Another Code")))):r.a.createElement(P.a,null)}}]),a}(r.a.Component),Q=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={response:{name:e.name,who:"",what:"",where:"",why:""},currentQuestion:"who"},n}return Object(m.a)(a,[{key:"handleResponseChange",value:function(e){var t={name:this.props.name,who:this.state.response.who,what:this.state.response.what,where:this.state.response.where,why:this.state.response.why};"who"==this.state.currentQuestion?t.who=e.target.value:"what"==this.state.currentQuestion?t.what=e.target.value:"where"==this.state.currentQuestion?t.where=e.target.value:"why"==this.state.currentQuestion&&(t.why=e.target.value),this.setState({response:t})}},{key:"handleNext",value:function(){"who"==this.state.currentQuestion?this.setState({currentQuestion:"what"}):"what"==this.state.currentQuestion?this.setState({currentQuestion:"where"}):"where"==this.state.currentQuestion?this.setState({currentQuestion:"why"}):"why"==this.state.currentQuestion&&this.props.sendResponse(this.state.response)}},{key:"render",value:function(){var e,t,a,n,s=this;return"who"==this.state.currentQuestion?(n=this.state.response.who,e="WHO",t="enter any person or animal etc",a=" eg. 'Obama' or 'Obama's dog, Bo'",r.a.createElement("div",null)):"what"==this.state.currentQuestion?(n=this.state.response.what,e="WHAT",t="enter an action",a=" eg. 'went for a bike ride' or 'slept'",r.a.createElement(g.a,{variant:"body1"},"tip: if you want to write something like 'went to HER appartment', you could enter 'went to THEIR appartment' instead to make the final sentence make more sense. (they / them / their / theirs / themself)")):"where"==this.state.currentQuestion?(n=this.state.response.where,e="WHERE",t="enter where, when or how the thing happened ",a=" eg. 'on their birthday' or 'with Batman'",r.a.createElement(g.a,{variant:"body1"},"tip: if you want to write something like 'with HIS uncle', you could enter 'with THEIR uncle' instead to make the final sentence make more sense. (they / them / their / theirs / themself)")):"why"==this.state.currentQuestion&&(n=this.state.response.why,e="WHY",t="enter an explanation or other clause",a=" eg. 'because they wanted to.' or 'in order to protect baby yoda.'",r.a.createElement(g.a,{variant:"body1"},"tip: if you want to write something like 'because SHE WAS sad', you could enter 'because THEY WERE sad' instead to make the final sentence make more sense. (they / them / their / theirs / themself)")),r.a.createElement(G.a,{in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"prompt-text"},r.a.createElement(p.a,{container:!0,direction:"column",spacing:5,justify:"center",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(p.a,{container:!0,direction:"column",spacing:1,justify:"center",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"h3",align:"center"},e)),r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"body1",align:"center"},t)),r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"body2",align:"center"},a)))),r.a.createElement(p.a,{item:!0},r.a.createElement(y.a,{id:"standard-basic",label:e,multiline:!0,onChange:function(e){return s.handleResponseChange(e)},value:n})),r.a.createElement(p.a,{item:!0},r.a.createElement(d.a,{onClick:function(){return s.handleNext()},variant:"contained",color:"primary",endIcon:r.a.createElement(f.a,null)},"Next")))))}}]),a}(r.a.Component),q=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={error:null,isLoaded:!1,players:[],codeWasValid:!1,intervalID:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.gameJoined?this.getData():this.joinGame()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.intervalID)}},{key:"joinGame",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"enter-waiting-room",name:this.props.name,code:this.props.gameCode})};console.log("request sent from PlayerWaitingRoom/joinGame"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",t).then((function(e){return e.json()})).then((function(t){t.codeWasValid?(e.props.joinGame(t.playerId),e.setState({isLoaded:!0,players:t.gameState.players,codeWasValid:!0}),e.getPlayerData()):e.props.noGameFound()}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"goToResponses",value:function(){clearTimeout(this.state.intervalID),this.props.goToResponses()}},{key:"getPlayerData",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"get-game-state",code:this.props.gameCode})};console.log("request sent from PlayerWaitingRoom/getPlayerData"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",t).then((function(e){return e.json()})).then((function(t){if(t.codeWasValid){var a=setTimeout(e.getPlayerData.bind(e),4e3);e.setState({players:t.gameState.players,intervalID:a}),"in-progress"==t.gameState.gameStage&&e.goToResponses()}else e.setState({codeWasValid:!1})}),(function(t){e.setState({error:t})}))}},{key:"createPlayers",value:function(){var e,t=Array(),a=Object(l.a)(this.state.players.entries());try{for(a.s();!(e=a.n()).done;){var n=Object(o.a)(e.value,2),s=n[0],i=n[1],c=100*(s+1)+"ms";"1"==i.id?t.push(r.a.createElement(p.a,{item:!0},r.a.createElement(V.a,{in:!0,style:{transitionDelay:c}},r.a.createElement(S.a,{badgeContent:"Host",color:"secondary"},r.a.createElement(b.a,{label:i.name,color:"primary"}))))):t.push(r.a.createElement(p.a,{item:!0},r.a.createElement(V.a,{in:!0,style:{transitionDelay:c}},r.a.createElement(b.a,{label:i.name,color:"primary"}))))}}catch(m){a.e(m)}finally{a.f()}return t}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement("div",null,"Error: ",this.state.error.message):this.state.isLoaded?this.state.codeWasValid?r.a.createElement(G.a,{in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"prompt-text"},r.a.createElement(p.a,{container:!0,direction:"column",spacing:5,justify:"center",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"h4",align:"center"},"You're in the waiting room!")),r.a.createElement(p.a,{item:!0},r.a.createElement(p.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"h5",align:"center"},"players:")),r.a.createElement(p.a,{item:!0},r.a.createElement(p.a,{container:!0,direction:"row",spacing:2,justify:"center",alignItems:"center"},this.createPlayers())))),r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"h5",align:"center"},"game: "+this.props.gameCode))))):r.a.createElement("div",{className:"prompt-text"},r.a.createElement(p.a,{container:!0,direction:"column",spacing:4,justify:"center",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"h5",align:"center"},"That game no longer exists (the host could have lost connection)")),r.a.createElement(p.a,{item:!0},r.a.createElement(d.a,{onClick:function(){return e.props.enterNewCode()},variant:"contained",color:"primary"},"Enter Another Code")))):r.a.createElement(P.a,null)}}]),a}(r.a.Component),U=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={error:null,isLoaded:!1,players:Array(),code:"",callCounter:0,codeExpired:!1,intervalID:null},n}return Object(m.a)(a,[{key:"componentWillUnmount",value:function(){clearTimeout(this.state.intervalID)}},{key:"componentDidMount",value:function(){this.props.gameCreated?this.getData():this.createWaitingRoom()}},{key:"createWaitingRoom",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"create-waiting-room",name:this.props.name})};console.log("request sent from HostWaitingRoom/createWaitingRoom"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",t).then((function(e){return e.json()})).then((function(t){e.props.createGame(t.gameState,t.playerId);var a=setTimeout(e.getData.bind(e),4e3);e.setState({isLoaded:!0,code:t.gameState.code,players:t.gameState.players,intervalID:a})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"getData",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"get-game-state",code:this.state.code})};console.log("request sent from HostWaitingRoom/getData"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",t).then((function(e){return e.json()})).then((function(t){if(e.setState({players:t.gameState.players,callCounter:e.state.callCounter+1}),e.state.callCounter<600){var a=setTimeout(e.getData.bind(e),4e3);e.setState({intervalID:a})}else e.setState({codeExpired:!0}),e.props.endGame()}),(function(t){e.setState({error:t})}))}},{key:"newCode",value:function(){this.setState({codeExpired:!1,callCounter:0,isLoaded:!1}),this.createWaitingRoom()}},{key:"createPlayers",value:function(){var e,t=Array(),a=Object(l.a)(this.state.players.entries());try{for(a.s();!(e=a.n()).done;){var n=Object(o.a)(e.value,2),s=n[0],i=n[1],c=100*(s+1)+"ms";"1"==i.id?t.push(r.a.createElement("div",{className:"player-chip"},r.a.createElement(V.a,{in:!0,style:{transitionDelay:c}},r.a.createElement(S.a,{badgeContent:"Host",color:"secondary"},r.a.createElement(b.a,{label:i.name,color:"primary"}))))):t.push(r.a.createElement("div",{className:"player-chip"},r.a.createElement(V.a,{in:!0,style:{transitionDelay:c}},r.a.createElement(b.a,{label:i.name,color:"primary"}))))}}catch(m){a.e(m)}finally{a.f()}return r.a.createElement("div",{className:"player-list"},t)}},{key:"startGame",value:function(){clearTimeout(this.state.intervalID),this.props.startGame()}},{key:"render",value:function(){var e,t=this;return this.state.error?r.a.createElement("div",null,"Error: ",this.state.error.message):this.state.isLoaded?this.state.codeExpired?r.a.createElement("div",{className:"prompt-text"},r.a.createElement(p.a,{container:!0,direction:"column",spacing:5,justify:"center",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{variant:"h5",align:"center"},"Your game code has expired")),r.a.createElement(p.a,{item:!0},r.a.createElement(d.a,{onClick:function(){return t.newCode()},variant:"contained",color:"primary"},"Get New Code")))):(e=this.state.players.length>1?r.a.createElement(d.a,{onClick:function(){return t.startGame()},variant:"contained",color:"primary"},"Start Game"):r.a.createElement(d.a,{disabled:!0,onClick:function(){return t.startGame()},variant:"contained",color:"primary"},"Start Game"),r.a.createElement(G.a,{in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"flex-column"},r.a.createElement("div",{className:"margin10"},r.a.createElement("div",{className:"margin5"},r.a.createElement(g.a,{variant:"h5",align:"center"},"Your Game Code is:")),r.a.createElement("div",{className:"margin5"},r.a.createElement(g.a,{variant:"h3",align:"center"},this.state.code))),r.a.createElement("div",{className:"margin10"},r.a.createElement("div",{className:"margin5"},r.a.createElement(g.a,{variant:"h5",align:"center"},"players:")),r.a.createElement("div",{className:"margin10"},this.createPlayers())),r.a.createElement("div",{className:"margin10"},e)))):r.a.createElement(P.a,null)}}]),a}(r.a.Component),Y=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n,r;return Object(c.a)(this,a),n=t.call(this,e),r=e.invalid?"Sorry "+e.playerName+", the code you entered is invalid.":"How's it goin "+e.playerName+", Enter your game's 4 letter code",n.state={code:"",message:r},e.handleCodeChange(""),n}return Object(m.a)(a,[{key:"handleCodeChange",value:function(e){var t=String(e.target.value);(t=t.toUpperCase()).length>4&&(t=t.slice(0,4)),this.setState({code:t}),this.props.handleCodeChange(t)}},{key:"render",value:function(){var e,t=this;return e=this.props.invalid?r.a.createElement(y.a,{error:!0,id:"standard-basic",label:"invalid code",onChange:function(e){return t.handleCodeChange(e)},value:this.state.code}):r.a.createElement(y.a,{id:"standard-basic",label:"code",onChange:function(e){return t.handleCodeChange(e)},value:this.state.code}),r.a.createElement(V.a,{in:!0},r.a.createElement("div",{className:"flex-column"},r.a.createElement("div",{className:"margin15 prompt-text"},r.a.createElement(g.a,{variant:"h5",align:"center"},this.state.message)),r.a.createElement("div",{className:"margin15"},e),r.a.createElement("div",{className:"back-next-buttons"},r.a.createElement("div",{className:"back-button"},r.a.createElement(d.a,{onClick:this.props.handleBack,variant:"contained",color:"primary",startIcon:r.a.createElement(w.a,null)},"Back")),r.a.createElement("div",{className:"next-button"},r.a.createElement(d.a,{onClick:this.props.handleNext,variant:"contained",color:"primary",endIcon:r.a.createElement(f.a,null)},"Next")))))}}]),a}(r.a.Component),z=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:""},e.handleNameChange(""),n}return Object(m.a)(a,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value}),this.props.handleNameChange(e.target.value)}},{key:"render",value:function(){var e,t=this;return e=this.props.invalid?r.a.createElement(y.a,{error:!0,id:"standard-basic",label:"name is required",onChange:function(e){return t.handleNameChange(e)},value:this.state.name}):r.a.createElement(y.a,{id:"standard-basic",label:"Enter Your Name",onChange:function(e){return t.handleNameChange(e)},value:this.state.name}),r.a.createElement(V.a,{in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"flex-column"},r.a.createElement("div",{className:"margin15 prompt-text"},r.a.createElement(g.a,{variant:"h5",align:"center"},this.props.message)),r.a.createElement("div",{className:"margin15"},e),r.a.createElement("div",{className:"back-next-buttons"},r.a.createElement("div",{className:"back-button"},r.a.createElement(d.a,{className:"back-button",onClick:this.props.handleBack,variant:"contained",color:"primary",startIcon:r.a.createElement(w.a,null)},"Back")),r.a.createElement("div",{className:"next-button"},r.a.createElement(d.a,{onClick:this.props.handleNext,variant:"contained",color:"primary",endIcon:r.a.createElement(f.a,null)},"Next")))))}}]),a}(r.a.Component),F=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onUnload=function(e){e.preventDefault(),n.state.playerIsHost&&n.state.gameCreated?n.endGame():!n.state.playerIsHost&&n.state.gameJoined&&n.leaveGame()},n.state={gameState:"start-options",playerName:"",gameCode:"",playerIsHost:!1,gameCreated:!1,gameJoined:!1,playerID:0,newComponentIsVisible:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.onUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.onUnload)}},{key:"handleNewGame",value:function(){this.setState({gameState:"enter-host-name",playerIsHost:!0})}},{key:"handleJoinGame",value:function(){this.setState({gameState:"enter-player-name",playerIsHost:!1})}},{key:"handleEnterNameBack",value:function(){this.setState({gameState:"start-options"})}},{key:"handleHostNameNext",value:function(){""!=this.state.playerName?this.setState({gameState:"host-waiting-room"}):this.setState({gameState:"invalid-host-name"})}},{key:"handlePlayerNameNext",value:function(){""!=this.state.playerName?this.setState({gameState:"enter-game-code"}):this.setState({gameState:"invalid-player-name"})}},{key:"handleEnterCodeBack",value:function(){this.setState({gameState:"enter-player-name"})}},{key:"handleEnterCodeNext",value:function(){4==this.state.gameCode.length?this.setState({gameState:"player-waiting-room"}):this.setState({gameState:"invalid-code"})}},{key:"handleNameChange",value:function(e){this.setState({playerName:e})}},{key:"handleCodeChange",value:function(e){this.setState({gameCode:e})}},{key:"joinGame",value:function(e){this.setState({playerID:e,gameJoined:!0}),console.log(this.state.playerID)}},{key:"enterNewCode",value:function(){this.setState({playerID:0,gameJoined:!1,gameCode:"",gameState:"enter-game-code"})}},{key:"createGame",value:function(e,t){this.setState({gameCode:e.code,playerID:t,gameCreated:!0})}},{key:"beginResponses",value:function(){this.setState({gameState:"enter-responses"})}},{key:"startGame",value:function(){this.setState({gameState:"enter-responses"});var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"start-game",code:this.state.gameCode})};console.log("request sent from Game/startGame"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",e).then((function(e){return e.json()})).then((function(e){}),(function(e){}))}},{key:"sendResponse",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"post-response",playerId:this.state.playerID,response:e,code:this.state.gameCode,name:this.state.playerName})};console.log("request sent from Game/sendResponse"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",t).then((function(e){return e.json()})).then((function(e){}),(function(e){})),this.setState({gameState:"finished-responses"})}},{key:"getSentences",value:function(){if(this.state.playerIsHost){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"create-sentences",code:this.state.gameCode})};console.log("request sent from Game/getSentences"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",e).then((function(e){return e.json()})).then((function(e){}),(function(e){}))}this.setState({gameState:"view-sentences"})}},{key:"endGame",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"end-game",code:this.state.gameCode}),keepalive:!0};console.log("request sent from Game/endGame"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",t).then((function(e){return e.json()})).then((function(t){e.setState({gameCreated:!1,gameCode:""})}),(function(e){}))}},{key:"leaveGame",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"leave-game",code:this.state.gameCode,playerId:this.state.playerID}),keepalive:!0};console.log("request sent from Game/endGame"),fetch("https://us-central1-to-do-list-266601.cloudfunctions.net/wwww",t).then((function(e){return e.json()})).then((function(t){e.setState({gameJoined:!1,gameCode:""})}),(function(e){}))}},{key:"render",value:function(){var e=this;return"start-options"==this.state.gameState?r.a.createElement(L,{handleNewGame:function(){return e.handleNewGame()},handleJoinGame:function(){return e.handleJoinGame()}}):"enter-host-name"==this.state.gameState?r.a.createElement(z,{message:"You're the game host!",invalid:!1,handleBack:function(){return e.handleEnterNameBack()},handleNext:function(){return e.handleHostNameNext()},handleNameChange:function(t){return e.handleNameChange(t)}}):"enter-player-name"==this.state.gameState?r.a.createElement(z,{message:"Enter your name to display",invalid:!1,handleBack:function(){return e.handleEnterNameBack()},handleNext:function(){return e.handlePlayerNameNext()},handleNameChange:function(t){return e.handleNameChange(t)}}):"enter-game-code"==this.state.gameState?r.a.createElement(Y,{playerName:this.state.playerName,invalid:!1,handleBack:function(){return e.handleEnterCodeBack()},handleNext:function(){return e.handleEnterCodeNext()},handleCodeChange:function(t){return e.handleCodeChange(t)}}):"invalid-player-name"==this.state.gameState?r.a.createElement(z,{message:"You can type literally anything except for that.",invalid:!0,handleBack:function(){return e.handleEnterNameBack()},handleNext:function(){return e.handlePlayerNameNext()},handleNameChange:function(t){return e.handleNameChange(t)}}):"invalid-code"==this.state.gameState?r.a.createElement(Y,{playerName:this.state.playerName,invalid:!0,handleBack:function(){return e.handleEnterCodeBack()},handleNext:function(){return e.handleEnterCodeNext()},handleCodeChange:function(t){return e.handleCodeChange(t)}}):"invalid-host-name"==this.state.gameState?r.a.createElement(z,{message:"You have to have a name",invalid:!0,handleBack:function(){return e.handleEnterNameBack()},handleNext:function(){return e.handleHostNameNext()},handleNameChange:function(t){return e.handleNameChange(t)}}):"host-waiting-room"==this.state.gameState?r.a.createElement(U,{gameCreated:this.state.gameCreated,name:this.state.playerName,createGame:function(t,a){return e.createGame(t,a)},endGame:function(){return e.endGame()},newCode:function(){return e.handleHostNameNext()},startGame:function(){return e.startGame()}}):"player-waiting-room"==this.state.gameState?r.a.createElement(q,{gameCode:this.state.gameCode,name:this.state.playerName,gameJoined:this.state.gameJoined,joinGame:function(t){return e.joinGame(t)},noGameFound:function(){return e.setState({gameState:"invalid-code"})},goToResponses:function(){return e.beginResponses()},enterNewCode:function(){return e.enterNewCode()}}):"enter-responses"==this.state.gameState?r.a.createElement(Q,{name:this.state.playerName,sendResponse:function(t){return e.sendResponse(t)}}):"finished-responses"==this.state.gameState?r.a.createElement(M,{gameCode:this.state.gameCode,getSentences:function(){return e.getSentences()},enterNewCode:function(){return e.enterNewCode()}}):"view-sentences"==this.state.gameState?r.a.createElement(B,{gameCode:this.state.gameCode}):void 0}}]),a}(r.a.Component);var $=function(){return r.a.createElement("div",{className:"whole-window"},r.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.75b09f69.chunk.js.map